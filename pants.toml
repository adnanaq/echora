[GLOBAL]
pants_version = "2.29.1"
backend_packages = [
  "pants.backend.python",
  "pants.backend.docker",
  "pants.backend.experimental.python.lint.ruff.check",
  "pants.backend.experimental.python.lint.ruff.format",
]

[source]
root_patterns = [
  "/",
  "/libs/*/src",
  "/libs/*/tests",
  "/apps/*/src",
  "/stubs",
]

[python]
interpreter_constraints = ["CPython==3.12.*"]

[python-infer]
# Enable dependency inference for Python imports
imports = true
# Infer dependencies from string imports
string_imports = true

[pytest]
args = ["-v", "--tb=short"]
config_discovery = true

[test]
extra_env_vars = ["ENVIRONMENT=development"]
use_coverage = true

[coverage-py]
# Generate coverage reports for test runs
report = ["console", "html"]
# Fail if coverage is below 80%
fail_under = 80
# Generate HTML report in dist/coverage/
output_dir = "dist/coverage"

[ruff]
config_discovery = true
