# Environment (REQUIRED - must be set to: development, staging, or production)
# No default value for production safety
ENVIRONMENT=development

# Vector Service Configuration
VECTOR_SERVICE_HOST=0.0.0.0
VECTOR_SERVICE_PORT=8002
DEBUG=true

# Qdrant Vector Database Configuration
QDRANT_URL=http://localhost:6333
QDRANT_API_KEY=
QDRANT_COLLECTION_NAME=anime_database
QDRANT_DISTANCE_METRIC=cosine

# Multi-Vector Configuration
TEXT_VECTOR_SIZE=1024
IMAGE_VECTOR_SIZE=768

# Modern Embedding Configuration
TEXT_EMBEDDING_PROVIDER=huggingface
TEXT_EMBEDDING_MODEL=BAAI/bge-m3
IMAGE_EMBEDDING_PROVIDER=openclip
IMAGE_EMBEDDING_MODEL=ViT-L-14/laion2b_s32b_b82k

# Model Management
MODEL_CACHE_DIR=./cache/models
MODEL_WARM_UP=false
IMAGE_BATCH_SIZE=16
OPENCLIP_INPUT_RESOLUTION=224
OPENCLIP_TEXT_MAX_LENGTH=77

# Qdrant Performance Optimization
QDRANT_ENABLE_QUANTIZATION=false
QDRANT_QUANTIZATION_TYPE=scalar
QDRANT_QUANTIZATION_ALWAYS_RAM=

# HNSW Configuration (for large datasets)
QDRANT_HNSW_EF_CONSTRUCT=100
QDRANT_HNSW_M=16
QDRANT_HNSW_MAX_INDEXING_THREADS=0

# Payload Indexing
QDRANT_ENABLE_PAYLOAD_INDEXING=true
QDRANT_INDEXED_PAYLOAD_FIELDS=["id","title","type","status","episodes","rating","nsfw","genres","tags","demographics","content_warnings","anime_season","duration","sources","statistics","score"]

# Storage and Memory
QDRANT_ENABLE_WAL=true
QDRANT_MEMORY_MAPPING_THRESHOLD=1000
MEMORY_MAPPING_THRESHOLD_MB=50

# API Configuration
API_TITLE=Anime Vector Service
API_VERSION=1.0.0
API_DESCRIPTION=Microservice for anime vector database operations
MAX_SEARCH_LIMIT=100
DEFAULT_BATCH_SIZE=100
MAX_BATCH_SIZE=500

# Request Configuration
REQUEST_TIMEOUT=30

# Logging Configuration
LOG_LEVEL=INFO
LOG_FORMAT=%(asctime)s - %(name)s - %(levelname)s - %(message)s

# CORS Configuration
ALLOWED_ORIGINS=["*"]
ALLOWED_METHODS=["*"]
ALLOWED_HEADERS=["*"]

# HTTP Cache Configuration (for Enrichment Pipeline)
# Enabled by default on feature branch - set to false to disable
ENABLE_HTTP_CACHE=true
HTTP_CACHE_STORAGE=redis
REDIS_CACHE_URL=redis://localhost:6379/0
HTTP_CACHE_DIR=data/http_cache

# AniDB API Configuration
ANIDB_CLIENT=your_registered_client_name
ANIDB_CLIENTVER=your_client_version
ANIDB_PROTOVER=1
ANIDB_MIN_REQUEST_INTERVAL=2.0
ANIDB_MAX_REQUEST_INTERVAL=10.0
ANIDB_ERROR_COOLDOWN_BASE=5.0
ANIDB_MAX_RETRIES=3
ANIDB_CIRCUIT_BREAKER_THRESHOLD=5
ANIDB_CIRCUIT_BREAKER_TIMEOUT=300
